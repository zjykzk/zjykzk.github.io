<!doctype html>
<html lang="en-us"><head>
    <title>老K随笔</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="讨论接口定义放在哪里比较合适" />

    
    
    
    <link rel="stylesheet" href="../../../../css/theme.min.css">

    
    
    

    
</head>
<body>
        <div id="content" class="mx-auto"><header class="container mt-sm-5 mt-4 mb-4 mt-xs-1">
    <div class="row">
        
        <div class="col-12 text-center">
        
            <h2 class="m-0 mb-2 mt-4">
                <a href="../../../../" class="text-decoration-none">
                    
                        zenk
                    
                </a>
            </h2>
            <p class="text-muted mb-1">
                
                    
                
            </p>
            <ul id="nav-links" class="list-inline mb-2">
                
                
                    <li class="list-inline-item">
                        <a class="badge badge-white " href="../../../../posts/about/" title="About">About</a>
                    </li>
                
                    <li class="list-inline-item">
                        <a class="badge badge-white " href="../../../../posts/" title="Posts">Posts</a>
                    </li>
                
                    <li class="list-inline-item">
                        <a class="badge badge-white " href="../../../../categories/" title="Categories">Categories</a>
                    </li>
                
            </ul>
            <ul id="nav-social" class="list-inline">
                
                    <li class="list-inline-item mr-3">
                        <a href="http://github.com/zjykzk" target="_blank">
                            <i class="fab fa-github fa-1x text-muted"></i>
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
    <hr />
</header>
<div class="container">
    <div class="pl-sm-2">
        <div class="mb-3">
            <h3 class="mb-0">接口在哪里定义？</h3>
            
            <small class="text-muted">Published July 15, 2018</small>
        </div>

        <article>
            <p>接口放在哪里决定了源代码依赖问题。因此，依赖是接口定义唯一考量，其他问题都可以归结为依赖问题，而定义的包永远是被依赖包。</p>
<p>接口定义的位置有三种情况：</p>
<ol>
<li>使用者</li>
<li>实现者</li>
<li>单独一个第三方位置</li>
</ol>
<p><strong>放在使用者这边</strong>，那么实现者依赖使用者的接口定义。</p>
<p><strong>好处</strong>：可以并行开发，尤其是类似golang这样的语言，实现一接口不需要引用具体的接口定义，即使在必须引用的开发语言里面也只需要实现相关的接口，集成的时候加上是很简单的。</p>
<p><strong>坏处</strong>：在实现者依赖接口定义源代码的情况下，实现者代码要提出来重用，必须要得要包含使用者的接口定义</p>
<p>这样的方式比较适合多个使用者，单个实现者的情况。</p>
<p><strong>放在实现者这边</strong>，那么使用者依赖实现者的接口定义。</p>
<p><strong>好处</strong>：实现者是一个独立的包，可以很方便的重用。</p>
<p><strong>坏处</strong>：使用者开发的时候需要引用实现者的接口定义，增加并行开发的难度，这里可以自己mock接口，集成的时候改成实现者的接口即可。</p>
<p>这样的方式适合单个使用者，多个实现者情况。</p>
<p><strong>单独放在第三方位置</strong></p>
<p><strong>好处</strong>：定义完接口以后，使用者和实现者都可以并行开发，同时实现者包的重用和使用者解耦。</p>
<p><strong>坏处</strong>：包的管理变得复杂，包含接口的包会变得很薄</p>
<p>这样的方式适合多个使用者，多个实现者情况。</p>
<h2></h2>

        </article>
    </div>

    

            </div>
        </div><footer class="text-center pb-1">
    <small class="text-muted">
        
            (c) 2025 zenk.
        
        <br>
        Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a>
        and <a href="https://github.com/austingebauer/devise" target="_blank">Devise</a>
    </small>
</footer>
</body>
</html>
